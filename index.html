<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Launcher Page</title>
    <style>
        /* Optional: Add a smooth fade-in effect */
        body { opacity: 0; transition: opacity 0.5s ease-in-out; }
        body.loaded { opacity: 1; }
    </style>
</head>
<body>
    <p>Opening the game launcher in a new window... Checking whitelist...</p>
    <script>
        const mainPageContent = `
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <title>Made By Exploding Xdddddd</title>
                <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet">
                <style>
                    body {
                        font-family: 'Nunito', sans-serif;
                        color: white;
                        background-color: rgb(20, 20, 20);
                        margin: 0;
                        padding: 25px;
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        min-height: 100vh;
                        box-sizing: border-box; /* Ensures padding is included in the element's total width and height */
                    }

                    #menu {
                        display: grid;
                        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                        gap: 15px;
                        width: 100%;
                        max-width: 900px;
                        padding: 25px;
                        box-sizing: border-box;
                    }
                    
                    button {
                        background-color: rgb(45, 45, 45);
                        color: white;
                        border-radius: 4px;
                        outline: none;
                        border: 2px solid rgb(45, 45, 45);
                        padding: 20px;
                        font-size: 16px;
                        cursor: pointer;
                        transition: background-color 0.2s, border-color 0.2s, transform 0.2s;
                        text-align: center;
                        word-wrap: break-word;
                    }
                    
                    button:hover {
                        background-color: rgb(25, 25, 25);
                        border-color: rgb(255, 255, 255, 0.2);
                        transform: scale(1.05);
                    }
                </style>
            </head>
            <body>
                <div id="menu"></div>
                <script>
                    const buttons = [
                        { name: "GunBlood", url: "https://cbgamesdev.github.io/chilibowlflash/gunblood.html" },
                        { name: "geomatry dash", url: "https://cbgamesdev.github.io/chilibowlflash/geomatrydash/geodash1.html" },
                        { name: "run 3", url: "https://cbgamesdev.github.io/chilibowlflash/run3/index.html" },
                        { name: "Stick Man Goon", url: "https://stickmanhook2.org/game/stickman-hook/" },
                        { name: "Vex", url: "https://wewewer4fteeeeeee.github.io/gammess/vex.html" },
                        { name: "Block Blast", url: "https://cbgamesdev.github.io/chilibowlflash/blockblast/index.html" },
                        { name: "Unblocker", url: "https://dihhhh.vercel.app/riz/dih.html" },
                        { name: "MineCraft Tower Defense", url: "https://wewewer4fteeeeeee.github.io/gammess/minecraftdih.html" },
                        { name: "Learn To Fly 2", url: "https://wewewer4fteeeeeee.github.io/gammess/learn2goon.html" },
                        { name: "Portal Flash", url: "https://wewewer4fteeeeeee.github.io/gammess/Portal.html" },
                        { name: "Age Of War", url: "https://wewewer4fteeeeeee.github.io/gammess/ageofsum.html" },
                        { name: "Meat Boy", url: "https://wewewer4fteeeeeee.github.io/gammess/meatjerk.html" },
                        { name: "SpaceBar Clicker", url: "https://wewewer4fteeeeeee.github.io/gammess/spacebargooner.html" },
                        { name: "Slope", url: "https://wewewer4fteeeeeee.github.io/gammess/Slope.html" },
                        { name: "Paper.Io 2", url: "https://ubv4l.neocities.org/projects/paperio2/" },
                        { name: "Youtube unblocked Made By Me", url: "https://wewewer4fteeeeeee.github.io/dih/dih.html" },
                    ];
                    buttons.forEach(btnData => {
                        const btn = document.createElement("button");
                        btn.textContent = btnData.name;
                        btn.onclick = () => {
                            const w = window.open("about:blank", "_blank");
                            if (!w) {
                                alert("Please allow pop-ups for this site.");
                                return;
                            }
                            w.document.title = btnData.name;
                            w.document.body.style.margin = "0";
                            w.document.body.style.backgroundColor = "rgb(20, 20, 20)";
                            
                            const embed = w.document.createElement("embed");
                            embed.src = btnData.url;
                            embed.width = "100%";
                            embed.height = "100%";
                            embed.style.display = "block";
                            embed.setAttribute("allowfullscreen", "true");
                            
                            w.document.body.appendChild(embed);
                            w.addEventListener('beforeunload', (event) => {
                                event.preventDefault();
                                event.returnValue = '';
                            });
                        };
                        menu.appendChild(btn);
                    });
                <\/script>
            </body>
            </html>
        `;

        const encodedContent = btoa(unescape(encodeURIComponent(mainPageContent)));
        const dataUrl = `data:text/html;charset=utf-8;base64,${encodedContent}`;

        const w = window.open("about:blank", "_blank");
        if (w) {
            w.document.write(mainPageContent);
            w.document.close();
            w.document.title = "Made By Exploding Xdddddd";
        } else {
            alert("Please allow pop-ups for this site to open the game launcher.");
        }
    </script>
    <script>
        // Smooth fade-in for the initial page
        window.addEventListener('load', () => {
            document.body.classList.add('loaded');
        });
    </script>
</body>
</html>
